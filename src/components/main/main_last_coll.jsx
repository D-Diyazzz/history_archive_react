import { useEffect, useState } from "react"
import FirstPage from "../getFirstPageFile"
import api from "../../api"

export default function MainFirstColl({ collections, handleNext, handlePrev }){


	return (
		<>
			<div className="main-info-backgroud-elem">
				<div className="main-info-back-elem-1">
					<svg width="1920" height="1080" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M446.697 0H0V1080H834C769.616 1065.68 663.507 1003.77 754.144 870.694C867.44 704.348 698.244 615.43 581.953 634.413C465.662 653.395 226.093 499.038 429.228 297.225C591.736 135.774 508.585 31.8039 446.697 0Z" fill="url(#paint0_linear_175_109)"/>
					<path d="M1535.88 320V299H1563.58V221.125L1535.88 235.125V210.333L1588.38 184.083V299H1610.25V320H1535.88ZM1656.56 320L1680.18 274.937C1679.21 275.035 1678.24 275.132 1677.26 275.229C1676.39 275.326 1675.47 275.375 1674.49 275.375C1666.23 275.375 1658.74 273.431 1652.04 269.542C1645.33 265.556 1640.03 260.208 1636.14 253.5C1632.25 246.792 1630.31 239.306 1630.31 231.042C1630.31 222.486 1632.4 214.806 1636.58 208C1640.76 201.194 1646.4 195.799 1653.49 191.812C1660.59 187.826 1668.47 185.833 1677.12 185.833C1685.87 185.833 1693.74 187.826 1700.74 191.812C1707.84 195.799 1713.48 201.194 1717.66 208C1721.84 214.708 1723.93 222.243 1723.93 230.604C1723.93 234.59 1723.4 238.431 1722.33 242.125C1721.36 245.722 1719.9 249.368 1717.95 253.063L1682.81 320H1656.56ZM1677.12 253.5C1681.2 253.5 1684.9 252.528 1688.2 250.583C1691.61 248.542 1694.28 245.868 1696.22 242.562C1698.17 239.16 1699.14 235.417 1699.14 231.333C1699.14 227.347 1698.17 223.701 1696.22 220.396C1694.28 217.09 1691.61 214.465 1688.2 212.521C1684.9 210.479 1681.2 209.458 1677.12 209.458C1673.04 209.458 1669.34 210.479 1666.04 212.521C1662.73 214.465 1660.06 217.09 1658.01 220.396C1656.07 223.701 1655.1 227.396 1655.1 231.479C1655.1 235.465 1656.07 239.16 1658.01 242.562C1659.96 245.868 1662.58 248.542 1665.89 250.583C1669.29 252.528 1673.04 253.5 1677.12 253.5ZM1796.49 320V289.083H1732.9L1784.24 188.75H1810.49L1769.36 268.083H1797.07V241.833L1820.4 229.292V268.083H1835.86V289.083H1820.99V320H1796.49ZM1854.46 320L1907.84 241.687C1910.07 238.285 1911.58 235.514 1912.36 233.375C1913.14 231.139 1913.52 229.097 1913.52 227.25C1913.52 222.292 1911.77 218.111 1908.27 214.708C1904.77 211.208 1900.45 209.458 1895.29 209.458C1890.14 209.458 1885.82 211.208 1882.32 214.708C1878.91 218.111 1877.21 222.292 1877.21 227.25C1877.21 233.861 1880.08 239.597 1885.82 244.458H1857.23C1854.22 239.014 1852.71 233.229 1852.71 227.104C1852.71 219.715 1854.56 212.91 1858.25 206.688C1862.04 200.465 1867.15 195.458 1873.57 191.667C1880.08 187.778 1887.37 185.833 1895.44 185.833C1903.32 185.833 1910.56 187.729 1917.17 191.521C1923.78 195.215 1929.03 200.174 1932.92 206.396C1936.91 212.618 1938.9 219.569 1938.9 227.25C1938.9 231.917 1938.02 236.389 1936.27 240.667C1934.62 244.847 1931.95 249.514 1928.25 254.667L1898.65 296.375H1940.5V320H1854.46Z" fill="#2800D8" fill-opacity="0.1"/>
					<circle cx="1838" cy="1097" r="235.5" stroke="#2800D8" stroke-opacity="0.21" stroke-width="19"/>
					<circle cx="1838" cy="1097" r="164.5" stroke="#2800D8" stroke-opacity="0.09" stroke-width="19"/>
					<path d="M508.875 189V168H536.583V90.125L508.875 104.125V79.3333L561.375 53.0833V168H583.25V189H508.875ZM629.557 189L653.182 143.937C652.209 144.035 651.237 144.132 650.265 144.229C649.39 144.326 648.466 144.375 647.494 144.375C639.23 144.375 631.744 142.431 625.036 138.542C618.327 134.556 613.029 129.208 609.14 122.5C605.251 115.792 603.307 108.306 603.307 100.042C603.307 91.4861 605.397 83.8056 609.577 77C613.758 70.1944 619.397 64.7986 626.494 60.8125C633.591 56.8264 641.466 54.8333 650.119 54.8333C658.869 54.8333 666.744 56.8264 673.744 60.8125C680.841 64.7986 686.48 70.1944 690.661 77C694.841 83.7083 696.932 91.2431 696.932 99.6042C696.932 103.59 696.397 107.431 695.327 111.125C694.355 114.722 692.897 118.368 690.952 122.063L655.807 189H629.557ZM650.119 122.5C654.202 122.5 657.897 121.528 661.202 119.583C664.605 117.542 667.279 114.868 669.223 111.562C671.168 108.16 672.14 104.417 672.14 100.333C672.14 96.3472 671.168 92.7014 669.223 89.3958C667.279 86.0903 664.605 83.4653 661.202 81.5208C657.897 79.4792 654.202 78.4583 650.119 78.4583C646.036 78.4583 642.341 79.4792 639.036 81.5208C635.73 83.4653 633.057 86.0903 631.015 89.3958C629.071 92.7014 628.098 96.3958 628.098 100.479C628.098 104.465 629.071 108.16 631.015 111.562C632.959 114.868 635.584 117.542 638.89 119.583C642.293 121.528 646.036 122.5 650.119 122.5ZM752.28 191.917C744.016 191.917 736.384 190.118 729.384 186.521C722.481 182.826 716.891 178.014 712.613 172.083L725.884 145.979C727.44 152.104 730.599 157.354 735.363 161.729C740.224 166.104 745.961 168.292 752.572 168.292C757.044 168.292 761.03 167.271 764.53 165.229C768.127 163.187 770.947 160.417 772.988 156.917C775.127 153.417 776.197 149.479 776.197 145.104C776.197 140.826 775.176 136.986 773.134 133.583C771.19 130.083 768.37 127.312 764.676 125.271C761.079 123.229 756.849 122.208 751.988 122.208C749.072 122.208 746.301 122.597 743.676 123.375C741.051 124.056 738.329 125.125 735.509 126.583L759.134 80.5H721.363V57.75H796.613L771.676 104.271C777.315 106.312 782.322 109.375 786.697 113.458C791.072 117.444 794.523 122.208 797.051 127.75C799.676 133.292 800.988 139.319 800.988 145.833C800.988 154.486 798.752 162.313 794.28 169.312C789.808 176.313 783.877 181.854 776.488 185.937C769.099 189.924 761.03 191.917 752.28 191.917ZM869.607 191.917C861.149 191.917 853.323 189.924 846.128 185.937C839.031 181.854 833.344 176.361 829.066 169.458C824.788 162.458 822.649 154.681 822.649 146.125C822.649 138.347 824.399 131.299 827.899 124.979C831.496 118.562 836.163 113.312 841.899 109.229C839.663 106.507 837.864 103.493 836.503 100.187C835.239 96.7847 834.607 92.9931 834.607 88.8125C834.607 82.3958 836.163 76.6597 839.274 71.6042C842.482 66.4514 846.712 62.3681 851.962 59.3542C857.309 56.3403 863.191 54.8333 869.607 54.8333C876.121 54.8333 882.003 56.3403 887.253 59.3542C892.503 62.3681 896.684 66.4514 899.795 71.6042C903.003 76.6597 904.607 82.3958 904.607 88.8125C904.607 92.8958 903.927 96.6389 902.566 100.042C901.302 103.444 899.552 106.507 897.316 109.229C903.052 113.312 907.67 118.562 911.17 124.979C914.767 131.299 916.566 138.347 916.566 146.125C916.566 154.486 914.378 162.167 910.003 169.167C905.628 176.069 899.844 181.611 892.649 185.792C885.552 189.875 877.871 191.917 869.607 191.917ZM869.607 168.875C873.885 168.875 877.725 167.854 881.128 165.813C884.531 163.771 887.253 161.049 889.295 157.646C891.337 154.146 892.357 150.306 892.357 146.125C892.357 141.847 891.337 138.007 889.295 134.604C887.253 131.201 884.531 128.479 881.128 126.437C877.725 124.396 873.885 123.375 869.607 123.375C865.427 123.375 861.587 124.396 858.087 126.437C854.684 128.479 851.962 131.201 849.92 134.604C847.878 138.007 846.857 141.847 846.857 146.125C846.857 150.306 847.878 154.146 849.92 157.646C851.962 161.049 854.684 163.771 858.087 165.813C861.587 167.854 865.427 168.875 869.607 168.875ZM869.607 102.958C873.302 102.958 876.413 101.694 878.941 99.1667C881.469 96.5417 882.732 93.4306 882.732 89.8333C882.732 86.1389 881.469 83.0278 878.941 80.5C876.413 77.9722 873.302 76.7083 869.607 76.7083C866.01 76.7083 862.899 77.9722 860.274 80.5C857.746 83.0278 856.482 86.1389 856.482 89.8333C856.482 93.4306 857.746 96.5417 860.274 99.1667C862.899 101.694 866.01 102.958 869.607 102.958Z" fill="#2800D8" fill-opacity="0.27"/>
					<path d="M-13.125 936V915H14.5833V837.125L-13.125 851.125V826.333L39.375 800.083V915H61.25V936H-13.125ZM107.557 936L131.182 890.937C130.209 891.035 129.237 891.132 128.265 891.229C127.39 891.326 126.466 891.375 125.494 891.375C117.23 891.375 109.744 889.431 103.036 885.542C96.3275 881.556 91.0289 876.208 87.14 869.5C83.2511 862.792 81.3066 855.306 81.3066 847.042C81.3066 838.486 83.3969 830.806 87.5775 824C91.758 817.194 97.3969 811.799 104.494 807.812C111.591 803.826 119.466 801.833 128.119 801.833C136.869 801.833 144.744 803.826 151.744 807.812C158.841 811.799 164.48 817.194 168.661 824C172.841 830.708 174.932 838.243 174.932 846.604C174.932 850.59 174.397 854.431 173.327 858.125C172.355 861.722 170.897 865.368 168.952 869.063L133.807 936H107.557ZM128.119 869.5C132.202 869.5 135.897 868.528 139.202 866.583C142.605 864.542 145.279 861.868 147.223 858.562C149.168 855.16 150.14 851.417 150.14 847.333C150.14 843.347 149.168 839.701 147.223 836.396C145.279 833.09 142.605 830.465 139.202 828.521C135.897 826.479 132.202 825.458 128.119 825.458C124.036 825.458 120.341 826.479 117.036 828.521C113.73 830.465 111.057 833.09 109.015 836.396C107.071 839.701 106.098 843.396 106.098 847.479C106.098 851.465 107.071 855.16 109.015 858.562C110.959 861.868 113.584 864.542 116.89 866.583C120.293 868.528 124.036 869.5 128.119 869.5ZM247.488 936V905.083H183.905L235.238 804.75H261.488L220.363 884.083H248.072V857.833L271.405 845.292V884.083H286.863V905.083H271.988V936H247.488ZM348.482 938.917C339.635 938.917 331.566 936.875 324.274 932.792C317.08 928.708 311.344 923.215 307.066 916.312C302.885 909.41 300.795 901.681 300.795 893.125C300.795 889.042 301.33 885.153 302.399 881.458C303.469 877.667 304.975 873.875 306.92 870.083L341.337 804.75H368.17L344.545 848.208C345.614 848.014 346.684 847.868 347.753 847.771C348.92 847.674 350.038 847.625 351.107 847.625C359.371 847.625 366.906 849.667 373.712 853.75C380.517 857.736 385.962 863.132 390.045 869.938C394.128 876.743 396.17 884.375 396.17 892.833C396.17 901.486 394.031 909.313 389.753 916.312C385.573 923.215 379.885 928.708 372.691 932.792C365.496 936.875 357.427 938.917 348.482 938.917ZM348.482 915.292C352.76 915.292 356.6 914.271 360.003 912.229C363.503 910.09 366.274 907.319 368.316 903.917C370.357 900.417 371.378 896.576 371.378 892.396C371.378 888.215 370.357 884.424 368.316 881.021C366.371 877.521 363.649 874.75 360.149 872.708C356.746 870.569 352.857 869.5 348.482 869.5C344.205 869.5 340.316 870.569 336.816 872.708C333.413 874.75 330.691 877.521 328.649 881.021C326.607 884.424 325.587 888.215 325.587 892.396C325.587 896.576 326.607 900.417 328.649 903.917C330.691 907.319 333.413 910.09 336.816 912.229C340.316 914.271 344.205 915.292 348.482 915.292Z" fill="white" fill-opacity="0.08"/>
					<defs>
					<linearGradient id="paint0_linear_175_109" x1="-587" y1="1994.5" x2="1100" y2="777" gradientUnits="userSpaceOnUse">
					<stop stop-color="#2800D8"/>
					<stop offset="1" stop-color="#B7BCEF"/>
					</linearGradient>
					</defs>
					</svg>

				</div>
					
					
				<div className="main-collections-block">
					{collections[1] && (
						<div className="main-collection">
					  		<div className="main-collection-first-page">
								<FirstPage pdfUrl={`collections/${collections[1].file_url}`} />
					  		</div>
					  		<p>{collections[1].title}</p>
						</div>
				  	)}

					{collections[0] && (
						<div className="main-collection">
						  	<div className="main-collection-first-page">
								<FirstPage pdfUrl={`collections/${collections[0].file_url}`}/>
						  	</div>
							<p>{collections[0].title}</p>
						</div>
					)}

					{collections[2] && (
						<div className="main-collection">
						  	<div className="main-collection-first-page">
								<FirstPage pdfUrl={`collections/${collections[2].file_url}`}/>
						  	</div>
							<p>{collections[2].title}</p>
						</div>
				  	)}			
				</div>
	
				<div className="main-info-main">
						<div className="main-info-main-title" style={{"fontFamily": "Comfortaa"}}>
							Последние
						</div>
						<a href="/collection" className="main-link-collection">Увидеть больше</a>
						
						<div className="main-while-button">
							<button onClick={handlePrev}>
							  <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
								<circle cx="25" cy="25" r="26" transform="matrix(-1 0 0 1 52 2)" stroke="#B7C1EF" strokeWidth="2" />
								<path d="M37 26C37.5523 26 38 26.4477 38 27C38 27.5523 37.5523 28 37 28V26ZM17.2929 27.7071C16.9024 27.3166 16.9024 26.6834 17.2929 26.2929L23.6569 19.9289C24.0474 19.5384 24.6805 19.5384 25.0711 19.9289C25.4616 20.3195 25.4616 20.9526 25.0711 21.3431L19.4142 27L25.0711 32.6569C25.4616 33.0474 25.4616 33.6805 25.0711 34.0711C24.6805 34.4616 24.0474 34.4616 23.6569 34.0711L17.2929 27.7071ZM37 28L18 28V26L37 26V28Z" fill="#B7C1EF"/>
							  </svg>
							</button>

							<button onClick={handleNext}>
							  <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
								<circle cx="27" cy="27" r="26" stroke="#B7C1EF" strokeWidth="2" />
								<path d="M17 26C16.4477 26 16 26.4477 16 27C16 27.5523 16.4477 28 17 28V26ZM36.7071 27.7071C37.0976 27.3166 37.0976 26.6834 36.7071 26.2929L30.3431 19.9289C29.9526 19.5384 29.3195 19.5384 28.9289 19.9289C28.5384 20.3195 28.5384 20.9526 28.9289 21.3431L34.5858 27L28.9289 32.6569C28.5384 33.0474 28.5384 33.6805 28.9289 34.0711C29.3195 34.4616 29.9526 34.4616 30.3431 34.0711L36.7071 27.7071ZM17 28L36 28V26L17 26V28Z" fill="#B7C1EF"/>
							  </svg>
							</button>						

					</div>
				</div>

			</div>

		</>
	)
}

